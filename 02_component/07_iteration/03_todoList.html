<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState } =React;

        function Header(){

            return(
                <div className="header">
                    <h1>오늘의 할일! {new Date().toLocaleDateString()}</h1>    
                </div>
            );
        }
    

        function Todo() {

            const [todo, setTodo] = useState([
            {id: 1, text: '할일 목록을 추가할 것', isCheck: false}])
            const [inputText, setInputText] = useState('');
            const [nextId, setNextId] = useState(2);
            
            const onChangeHandler = (e) => setInputText(e.target.value);
            const onClickHandler = () => {
                const changeTodo = todo.concat({
                    id: nextId,
                    text: inputText
                });
                
                setNextId(nextId + 1);
                setTodo(changeTodo);
                setInputText('');
            }


            const todoList = todo.map(todo => <p key={todo.id}>{todo.text}</p>);
            
            return (
                <>
                    <h2>ToDo-List</h2>
                    <div className="todo-lists">
                        <span>{todoList}</span>
                    </div>
                    <div className="input-lists">
                        <input    
                        type="text"
                        value= { inputText }
                        onChange= { onChangeHandler }
                        />
                        <button onClick= { onClickHandler }>추가하기</button>
                    </div>
                </>
            );       
        }
        
        function Main() {
            return(
                <div className="main">
                    <Todo/>
                </div>
            );
        }

        function Footer() {

            return (
                <div className="footer">
                    <p>2023~~~~</p>
                </div>
            );
        }

        function App() {

            return(
                <div className="main">
                    <Header/>
                    <Main/>
                    <Footer/>
                </div>
            )
        }

        ReactDOM.createRoot(document.getElementById('root')).render(<App/>);
    </script>
</body>
</html>